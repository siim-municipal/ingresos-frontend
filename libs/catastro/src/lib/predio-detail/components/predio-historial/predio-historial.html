@if (loading()) {
<div class="flex flex-col items-center justify-center h-48 space-y-3">
  <span
    class="animate-spin h-6 w-6 border-2 border-blue-600 rounded-full border-t-transparent"
  ></span>
  <p class="text-sm text-slate-500">Consultando Tesorería...</p>
</div>
} @else {
<div class="border rounded-lg overflow-hidden bg-white">
  <table mat-table [dataSource]="pagos()" class="w-full text-sm">
    <ng-container matColumnDef="anio">
      <th mat-header-cell *matHeaderCellDef>Año Fiscal</th>
      <td mat-cell *matCellDef="let row" class="font-bold text-slate-700">
        {{ row.anioFiscal }}
      </td>
    </ng-container>

    <ng-container matColumnDef="folio">
      <th mat-header-cell *matHeaderCellDef>Folio Recibo</th>
      <td mat-cell *matCellDef="let row" class="font-mono text-xs">
        {{ row.folio }}
      </td>
    </ng-container>

    <ng-container matColumnDef="fecha">
      <th mat-header-cell *matHeaderCellDef>Fecha Pago</th>
      <td mat-cell *matCellDef="let row">
        {{ row.fechaPago | date:'mediumDate' }}
      </td>
    </ng-container>

    <ng-container matColumnDef="importe">
      <th mat-header-cell *matHeaderCellDef>Importe Total</th>
      <td mat-cell *matCellDef="let row" class="font-bold">
        {{ row.importe | currency }}
      </td>
    </ng-container>

    <ng-container matColumnDef="estatus">
      <th mat-header-cell *matHeaderCellDef>Estatus</th>
      <td mat-cell *matCellDef="let row">
        <span class="status-paid">
          <mat-icon class="text-[12px] h-3 w-3 inline align-middle"
            >verified</mat-icon
          >
          {{ row.estatus }}
        </span>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: displayedColumns;"
      class="hover:bg-slate-50"
    ></tr>
  </table>
</div>
}
